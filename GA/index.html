<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta name="baidu-site-verification" content="vi604da58U"><meta name="google-site-verification" content="JwzmnANXlpmQlhwaSORuqpEB6P3Sr-tRhw4R_XDRcEc"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>GA solve TSP—— A simple python code | AngelNI's Blog</title><meta name="description" content="GA solve TSP—— A simple python code"><meta name="keywords" content="GA"><meta name="author" content="Hui Ning"><meta name="copyright" content="Hui Ning"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="crossorigin"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="GA solve TSP—— A simple python code"><meta name="twitter:description" content="GA solve TSP—— A simple python code"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/162.webp"><meta property="og:type" content="article"><meta property="og:title" content="GA solve TSP—— A simple python code"><meta property="og:url" content="https://angelni.github.io/GA/"><meta property="og:site_name" content="AngelNI's Blog"><meta property="og:description" content="GA solve TSP—— A simple python code"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/162.webp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/AngelNI.github.io/css/index.css" ><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://angelni.github.io/GA/"><link rel="prev" title="aaa" href="https://angelni.github.io/aaa/"><link rel="next" title="The Notebook of Learing Numpy" href="https://angelni.github.io/The%20Note%20of%20Learning%20Numpy/"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: '784-559-7194',
  enable_page_level_ads: 'true'
});</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c0aadf140996faae5fdf1fa9ef178180";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-144678502-1', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/AngelNI.github.io/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://angelni.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script src="https://www.zrahh.com/js/instantclick-1.2.2.js" type="module"></script><script src="activate-power-mode.js"></script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/avatar.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/AngelNI.github.io/archives/"><div class="headline">Articles</div><div class="length_num">143</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/AngelNI.github.io/tags/"><div class="headline">Tags</div><div class="length_num">92</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/AngelNI.github.io/categories/"><div class="headline">Categories</div><div class="length_num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/link/"><i class="fa-fw fa fa-link"></i><span> Friends</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://music.angelni.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/AngelNI.github.io/photo"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/suisuinian/"><i class="fa-fw fa fa-bullhorn"></i><span> My Voice</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、Genetic-Algorithm"><span class="toc-number">1.</span> <span class="toc-text">一、Genetic Algorithm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">1、Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、GA-Function"><span class="toc-number">1.2.</span> <span class="toc-text">2、GA  Function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）Population-selection"><span class="toc-number">1.2.1.</span> <span class="toc-text">（1）Population selection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）Genetic-crossover"><span class="toc-number">1.2.2.</span> <span class="toc-text">（2）Genetic  crossover</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（3）Genetic-mutation"><span class="toc-number">1.2.3.</span> <span class="toc-text">（3）Genetic  mutation</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、TSP"><span class="toc-number">2.</span> <span class="toc-text">二、TSP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、Problem"><span class="toc-number">2.1.</span> <span class="toc-text">1、Problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、Solve"><span class="toc-number">2.2.</span> <span class="toc-text">2、Solve</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3、Answer"><span class="toc-number">2.3.</span> <span class="toc-text">3、Answer</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/162.webp)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/AngelNI.github.io/">AngelNI's Blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/link/"><i class="fa-fw fa fa-link"></i><span> Friends</span></a></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://music.angelni.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/AngelNI.github.io/photo"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/AngelNI.github.io/suisuinian/"><i class="fa-fw fa fa-bullhorn"></i><span> My Voice</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">GA solve TSP—— A simple python code</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-04-27 23:37:03"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-04-27</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-04-28 17:40:48"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-04-28</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/AngelNI.github.io/categories/AI/">AI</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>Word count:</span><span class="word-count">2.1k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>Reading time: 8 min</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>Comments:</span><a href="/AngelNI.github.io/GA/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/AngelNI.github.io/GA/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="一、Genetic-Algorithm"><a href="#一、Genetic-Algorithm" class="headerlink" title="一、Genetic Algorithm"></a>一、Genetic Algorithm</h1><h2 id="1、Introduction"><a href="#1、Introduction" class="headerlink" title="1、Introduction"></a>1、Introduction</h2><p>遗传算法（GeneticAlgorithm）是模拟达尔文生物进化论的自然选择和遗传学机理的生物进化过程的计算模型，通过模拟自然进化过程搜索最优解。遗传算法是从代表问题可能潜在的解集的一个种群（population）开始的，初代种群产生之后，按照适者生存和优胜劣汰的原理，逐代（generation）演化产生出越来越好的近似解，在每一代，根据问题域中个体的适应度（fitness）大小选择个体，并借助于自然遗传学的遗传算子（genetic operators）进行组合交叉（crossover）和变异（mutation），产生出代表新的解集的种群。这个过程将导致种群像自然进化一样的后生代种群比前代更加适应于环境，末代种群中的最优个体经过解码（decoding），可以作为问题近似最优解。</p>
<h2 id="2、GA-Function"><a href="#2、GA-Function" class="headerlink" title="2、GA  Function"></a>2、GA  Function</h2><h3 id="（1）Population-selection"><a href="#（1）Population-selection" class="headerlink" title="（1）Population selection"></a>（1）Population selection</h3><p>根据生物进化论，适者生存，优胜劣汰的规则，每个种群中的个体都有自己适应生存条件的能力，往往那些适应力能力强的个体容易生存下来，而那些适应力弱的个体，则被自然所淘汰。</p>
<p>GA中的适应度是根据不同的问题来设定的，比如解决TSP问题，这里的适应度是路线距离的倒数，路线距离越短，适应度越大。根据适应度对种群进行选择。</p>
<h3 id="（2）Genetic-crossover"><a href="#（2）Genetic-crossover" class="headerlink" title="（2）Genetic  crossover"></a>（2）Genetic  crossover</h3><p>种群内的基因交叉，是指种群产生后代的过程。从种群中选择优秀的父母，携带优秀的基因，那么他们的孩子的基因也可能是非常优秀的，要注意，是<strong>可能</strong>。</p>
<p>在这里基因交叉的方法有六种方法，可以参考下面这篇博客。我采用的是方法6</p>
<p><a href="https://blog.csdn.net/ztf312/article/details/82793295" target="_blank" rel="noopener">基因交叉的六种方法</a></p>
<h3 id="（3）Genetic-mutation"><a href="#（3）Genetic-mutation" class="headerlink" title="（3）Genetic  mutation"></a>（3）Genetic  mutation</h3><p>我们都知道，个体在进化的过程中，存在基因变异的可能，基因变异有好有坏，但是不能忽略基因突变的重要性。</p>
<p>基因突变是指一段基因碱基序列中的某个碱基可能会突变为其他的碱基，模仿生物基因的特点，我们可以自定义基因序列进行基因突变。例如，TSP中的基因编码是路线label</p>
<h1 id="二、TSP"><a href="#二、TSP" class="headerlink" title="二、TSP"></a>二、TSP</h1><h2 id="1、Problem"><a href="#1、Problem" class="headerlink" title="1、Problem"></a>1、Problem</h2><p>一个商品推销员要去若干个城市推销商品，该推销员从一个城市出发，需要经过所有城市后，回到出发地。应如何选择行进路线，以使总的行程最短。</p>
<h2 id="2、Solve"><a href="#2、Solve" class="headerlink" title="2、Solve"></a>2、Solve</h2><div class="note success">
            <p>自我吐槽中：写了这么久的遗传算法中终于完工了，前前后后删了、重写、修改了好多次，功夫不负有心人终于用遗传算法解决了旅行商的问题。和第一次的A星算法一样，在代码中做了详细的注释，最后奉上我这个菜鸡的代码，大佬们勿喷啊。</p>
          </div>    

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#随机数种子</span></span><br><span class="line">np.random.seed(<span class="number">114514</span>)</span><br><span class="line"><span class="comment">#遗传算法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Genetic_Algorithm</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,pop,pop_size,DNA_size,distance,city_position,crossover_rate = <span class="number">0.1555</span>,mutation_rate=<span class="number">0.025</span>)</span>:</span></span><br><span class="line">        <span class="comment">#交叉概率</span></span><br><span class="line">        self.crossover_rate = crossover_rate</span><br><span class="line">        <span class="comment">#变异概率</span></span><br><span class="line">        self.mutation_rate = mutation_rate</span><br><span class="line">        <span class="comment">#种群</span></span><br><span class="line">        self.pop = pop</span><br><span class="line">        <span class="comment">#种群大小</span></span><br><span class="line">        self.pop_size = pop_size</span><br><span class="line">        <span class="comment">#DNA大小</span></span><br><span class="line">        self.DNA_size = DNA_size</span><br><span class="line">        <span class="comment">#城市坐标</span></span><br><span class="line">        self.city_position = city_position</span><br><span class="line">        <span class="comment">#城市间距离矩阵</span></span><br><span class="line">        self.distance = distance    </span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment">#计算种群个体适应度</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">compute_fitness</span><span class="params">(self,pop)</span>:</span></span><br><span class="line">        <span class="comment">#初始化一个空表</span></span><br><span class="line">        fitness = np.zeros(self.pop_size,dtype= np.float32)</span><br><span class="line">        <span class="comment">#枚举每个个体</span></span><br><span class="line">        <span class="keyword">for</span> i,e <span class="keyword">in</span> enumerate(pop):</span><br><span class="line">            <span class="comment">#print(e)</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(self.DNA_size<span class="number">-1</span>):</span><br><span class="line">                <span class="comment">#计算个体i的适应度</span></span><br><span class="line">                fitness[i] += self.distance[int(e[j])][int(e[j+<span class="number">1</span>])]</span><br><span class="line">        <span class="comment">#记录距离</span></span><br><span class="line">        dis = copy.copy(fitness)</span><br><span class="line">        <span class="comment">#适应度等于距离的倒数</span></span><br><span class="line">        fitness = np.reciprocal(fitness)        </span><br><span class="line">        <span class="keyword">return</span> fitness,dis</span><br><span class="line">    <span class="comment">#轮盘赌，选择种群中的个体</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">select_population</span><span class="params">(self,fitness)</span>:</span></span><br><span class="line">        <span class="comment">#从种群中选择，pop_size个个体，每个个体被选择的概率为fitness / fitness.sum()</span></span><br><span class="line">        indx = np.random.choice(np.arange(self.pop_size),size = self.pop_size,replace = <span class="literal">True</span>,p = fitness / fitness.sum())</span><br><span class="line">        <span class="comment">#print(indx)</span></span><br><span class="line">        <span class="comment">#花式索引，更新种群</span></span><br><span class="line">        self.pop = self.pop[indx]</span><br><span class="line">    <span class="comment">#对新种群中的所有个体进行基因交叉</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">genetic_crossover</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#遍历种群每个个体</span></span><br><span class="line">        <span class="keyword">for</span> parent1 <span class="keyword">in</span> self.pop:</span><br><span class="line">            <span class="comment">#判断是否会基因交叉</span></span><br><span class="line">            <span class="keyword">if</span> np.random.rand() &lt;self.crossover_rate:</span><br><span class="line">                <span class="comment">#### Subtour Exchange Crossover</span></span><br><span class="line">                <span class="comment">#### 基因交换方法参考6</span></span><br><span class="line">                <span class="comment">#####基因交叉参考https://blog.csdn.net/ztf312/article/details/82793295</span></span><br><span class="line">                <span class="comment">#寻找父代2</span></span><br><span class="line">                n = np.random.randint(self.pop_size)</span><br><span class="line">                parent2 = self.pop[n,:]</span><br><span class="line">                <span class="comment">#随机产生基因交换片段</span></span><br><span class="line">                pos = np.random.randint(self.DNA_size,size = <span class="number">2</span>)</span><br><span class="line">                <span class="comment">#区间左右端点</span></span><br><span class="line">                l = min(pos)</span><br><span class="line">                r = max(pos)</span><br><span class="line">                <span class="comment">#记录区间</span></span><br><span class="line">                seq = copy.copy(parent1[l:r])</span><br><span class="line">                poss = []</span><br><span class="line">                <span class="comment">#交换</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(self.DNA_size):</span><br><span class="line">                    <span class="keyword">if</span> parent2[i] <span class="keyword">in</span> seq:</span><br><span class="line">                        poss.append(i)</span><br><span class="line">                a = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> seq:</span><br><span class="line">                    parent2[poss[a]] = i</span><br><span class="line">                    a+=<span class="number">1</span></span><br><span class="line">                b = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(l,r):</span><br><span class="line">                    parent1[i] = parent2[poss[b]]</span><br><span class="line">                    b+=<span class="number">1</span></span><br><span class="line">                <span class="comment">#print(parent1)</span></span><br><span class="line">                <span class="comment">#break   </span></span><br><span class="line">    <span class="comment">#种群中的所有个体基因突变</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">genetic_mutation</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#枚举个体</span></span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> self.pop:</span><br><span class="line">            <span class="comment">#变异的可能</span></span><br><span class="line">            <span class="keyword">if</span> np.random.rand() &lt; self.mutation_rate:</span><br><span class="line">                <span class="comment">#随机变异交换点</span></span><br><span class="line">                position = np.random.randint(self.DNA_size,size = <span class="number">2</span>)</span><br><span class="line">                e[position[<span class="number">0</span>]],e[position[<span class="number">1</span>]] = e[position[<span class="number">1</span>]] , e[position[<span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#初始化种群</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_pop</span><span class="params">(pop_size,DNA_size)</span>:</span></span><br><span class="line">    <span class="comment">#初始化一个种群 大小为pop_size*DNA_size</span></span><br><span class="line">    pop = np.zeros((pop_size,DNA_size))</span><br><span class="line">    <span class="comment">#DNA编码</span></span><br><span class="line">    code = np.arange(DNA_size)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(pop_size):</span><br><span class="line">        pop[i] = copy.deepcopy(code)</span><br><span class="line">        <span class="comment">#随机打乱函数</span></span><br><span class="line">        np.random.shuffle(pop[i])</span><br><span class="line">    <span class="comment">#返回种群</span></span><br><span class="line">    <span class="keyword">return</span> pop       </span><br><span class="line"><span class="comment">#画图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(lx, ly,city_position,dis)</span>:</span></span><br><span class="line">    plt.cla()   <span class="comment"># 清除键</span></span><br><span class="line">    <span class="comment">#画点</span></span><br><span class="line">    plt.scatter(city_position[<span class="number">0</span>],city_position[<span class="number">1</span>],color = <span class="string">'r'</span>)</span><br><span class="line">    <span class="comment">#画线</span></span><br><span class="line">    plt.plot(lx,ly)</span><br><span class="line">    <span class="comment">#不显示坐标轴</span></span><br><span class="line">    plt.xticks([])</span><br><span class="line">    plt.yticks([])</span><br><span class="line">    <span class="comment">#文本注释</span></span><br><span class="line">    plt.text(<span class="number">-5.25</span>, <span class="number">-14.05</span>, <span class="string">"Total distance=%.2f"</span> % dis, fontdict=&#123;<span class="string">'size'</span>: <span class="number">20</span>, <span class="string">'color'</span>: <span class="string">'red'</span>&#125;)</span><br><span class="line">    <span class="comment">#暂停时间</span></span><br><span class="line">    plt.pause(<span class="number">0.01</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">best_show</span><span class="params">(x,y,city_position,best_fitness,dis)</span>:</span></span><br><span class="line">    <span class="comment">#定义两个子图</span></span><br><span class="line">    fig,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">12</span>,<span class="number">5</span>),facecolor=<span class="string">'#ccddef'</span>)</span><br><span class="line">    <span class="comment">#定义子图1标题</span></span><br><span class="line">    ax[<span class="number">0</span>].set_title(<span class="string">"Best route"</span>)</span><br><span class="line">    <span class="comment">#定义子图2标题</span></span><br><span class="line">    ax[<span class="number">1</span>].set_title(<span class="string">"Fitness Change Procession"</span>)</span><br><span class="line">    <span class="comment">#画线</span></span><br><span class="line">    ax[<span class="number">0</span>].plot(x,y)</span><br><span class="line">    <span class="comment">#画点</span></span><br><span class="line">    ax[<span class="number">0</span>].scatter(city_position[<span class="number">0</span>],city_position[<span class="number">1</span>],color = <span class="string">'r'</span>)</span><br><span class="line">    <span class="comment">#画线</span></span><br><span class="line">    ax[<span class="number">1</span>].plot(range(len(best_fitness)),best_fitness)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#解决旅行商问题</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">TSP</span><span class="params">(city_position,pop_size,DNA_size,distance,t)</span>:</span></span><br><span class="line">    <span class="comment">#初始化一个种群</span></span><br><span class="line">    pop = init_pop(pop_size,DNA_size)</span><br><span class="line">    <span class="comment">#调用遗传算法类</span></span><br><span class="line">    GA = Genetic_Algorithm(pop,pop_size,DNA_size,distance,city_position)</span><br><span class="line">    <span class="comment">#保存最佳距离</span></span><br><span class="line">    best_distance = <span class="number">1e6</span></span><br><span class="line">    <span class="comment">#保存最佳路线</span></span><br><span class="line">    route = <span class="literal">None</span></span><br><span class="line">    <span class="comment">#保存最佳x坐标</span></span><br><span class="line">    x = <span class="literal">None</span></span><br><span class="line">    <span class="comment">#保存最佳y坐标</span></span><br><span class="line">    y = <span class="literal">None</span></span><br><span class="line">    <span class="comment">#保存适应度变化曲线</span></span><br><span class="line">    fitness_process = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(t):</span><br><span class="line">        <span class="comment">#t-=1</span></span><br><span class="line">        <span class="comment">#返回适应度，和距离函数</span></span><br><span class="line">        fitness ,dis= GA.compute_fitness(GA.pop)</span><br><span class="line">        <span class="comment">#选择新的种群</span></span><br><span class="line">        GA.select_population(fitness)</span><br><span class="line">        <span class="comment">#基因交叉</span></span><br><span class="line">        GA.genetic_crossover()</span><br><span class="line">        <span class="comment">#基因突变</span></span><br><span class="line">        GA.genetic_mutation()</span><br><span class="line">        <span class="comment">####################</span></span><br><span class="line">        <span class="comment">#记录当前状态最优解</span></span><br><span class="line">        <span class="comment">#返回最优解索引</span></span><br><span class="line">        num = np.argmax(fitness)</span><br><span class="line">        <span class="comment">#记录DNA</span></span><br><span class="line">        DNA = GA.pop[num,:]</span><br><span class="line">        <span class="comment">#打印当前状态</span></span><br><span class="line">        print(<span class="string">f"The step is <span class="subst">&#123;i&#125;</span> ,the current best distance is <span class="subst">&#123;min(dis)&#125;</span> ,fitness is <span class="subst">&#123;max(fitness)&#125;</span>"</span>)</span><br><span class="line">        lx = []</span><br><span class="line">        ly = []</span><br><span class="line">        <span class="comment">#DNA转化为记录坐标</span></span><br><span class="line">        fitness_process.append(max(fitness))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> DNA:</span><br><span class="line">            i = int(i) </span><br><span class="line">            lx.append(city_position[<span class="number">0</span>][i])</span><br><span class="line">            ly.append(city_position[<span class="number">1</span>][i])</span><br><span class="line">        <span class="comment">#保存最佳方案</span></span><br><span class="line">        <span class="keyword">if</span> best_distance &gt; min(dis):</span><br><span class="line">            best_distance = min(dis)</span><br><span class="line">            route = DNA = GA.pop[num,:]</span><br><span class="line">            x = copy.copy(lx)</span><br><span class="line">            y = copy.copy(ly)</span><br><span class="line">        show(lx,ly,city_position,min(dis))</span><br><span class="line">    <span class="comment">#打印最终结果</span></span><br><span class="line">    print(<span class="string">f"The best route is <span class="subst">&#123;route&#125;</span>"</span>)</span><br><span class="line">    print(<span class="string">f"The route distance is <span class="subst">&#123;best_distance&#125;</span>"</span>)</span><br><span class="line">    best_show(x,y,city_position,fitness_process,best_distance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment">#数据</span></span><br><span class="line">    x = [ <span class="number">178</span>,<span class="number">272</span>,<span class="number">176</span>,<span class="number">171</span>,<span class="number">650</span>,<span class="number">499</span>,<span class="number">267</span>,<span class="number">703</span>,<span class="number">408</span>,<span class="number">437</span>,<span class="number">491</span>,<span class="number">74</span>,<span class="number">532</span>,<span class="number">416</span>,<span class="number">626</span>,<span class="number">42</span>,<span class="number">271</span>,<span class="number">359</span>,<span class="number">163</span>,<span class="number">508</span>,<span class="number">229</span>,<span class="number">576</span>,<span class="number">147</span>,<span class="number">560</span>,<span class="number">35</span>,<span class="number">714</span>,<span class="number">757</span>,<span class="number">517</span>,<span class="number">64</span>,<span class="number">314</span>,<span class="number">675</span>,<span class="number">690</span>,<span class="number">391</span>,<span class="number">628</span>,<span class="number">87</span>,<span class="number">240</span>,<span class="number">705</span>,<span class="number">699</span>,<span class="number">258</span>,<span class="number">428</span>,<span class="number">614</span>,<span class="number">36</span>,<span class="number">360</span>,<span class="number">482</span>,<span class="number">666</span>,<span class="number">597</span>,<span class="number">209</span>,<span class="number">201</span>,<span class="number">492</span>,<span class="number">294</span>]</span><br><span class="line">    y = [ <span class="number">170</span>,<span class="number">395</span>,<span class="number">198</span>,<span class="number">151</span>,<span class="number">242</span>,<span class="number">556</span>,<span class="number">57</span>,<span class="number">401</span>,<span class="number">305</span>,<span class="number">421</span>,<span class="number">267</span>,<span class="number">105</span>,<span class="number">525</span>,<span class="number">381</span>,<span class="number">244</span>,<span class="number">330</span>,<span class="number">395</span>,<span class="number">169</span>,<span class="number">141</span>,<span class="number">380</span>,<span class="number">153</span>,<span class="number">442</span>,<span class="number">528</span>,<span class="number">329</span>,<span class="number">232</span>,<span class="number">48</span>,<span class="number">498</span>,<span class="number">265</span>,<span class="number">343</span>,<span class="number">120</span>,<span class="number">165</span>,<span class="number">50</span>,<span class="number">433</span>,<span class="number">63</span>,<span class="number">491</span>,<span class="number">275</span>,<span class="number">348</span>,<span class="number">222</span>,<span class="number">288</span>,<span class="number">490</span>,<span class="number">213</span>,<span class="number">524</span>,<span class="number">244</span>,<span class="number">114</span>,<span class="number">104</span>,<span class="number">552</span>,<span class="number">70</span>,<span class="number">425</span>,<span class="number">227</span>,<span class="number">331</span>]</span><br><span class="line">    <span class="comment">#从起点到终点</span></span><br><span class="line">    x.append(x[<span class="number">0</span>])</span><br><span class="line">    y.append(y[<span class="number">0</span>])</span><br><span class="line">    <span class="comment">#初始化一个全0矩阵</span></span><br><span class="line">    distance = np.zeros((len(x),len(x)))</span><br><span class="line">    <span class="comment">#计算距离矩阵,distance[i][j]表示 i to j 的距离</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(x)):</span><br><span class="line">            distance[i][j] = np.sqrt(np.square(x[i]-x[j])+np.square(y[i]-y[j]))</span><br><span class="line">    <span class="comment">#转换成一个矩阵</span></span><br><span class="line">    city_position = np.array([x,y])</span><br><span class="line">    <span class="comment">#种群大小</span></span><br><span class="line">    pop_size = <span class="number">400</span></span><br><span class="line">    <span class="comment">#DNA大小也是城市大小</span></span><br><span class="line">    DNA_size = <span class="number">51</span></span><br><span class="line">    <span class="comment">#迭代次数</span></span><br><span class="line">    t = <span class="number">10000</span></span><br><span class="line">    <span class="comment">#sovle problem</span></span><br><span class="line">    TSP(city_position,pop_size,DNA_size,distance,t)</span><br></pre></td></tr></table></figure>

<h2 id="3、Answer"><a href="#3、Answer" class="headerlink" title="3、Answer"></a>3、Answer</h2><p>GA中有四个参数，分别是种群大小。迭代次数，基因交叉概率，基因突变概率——一个好的算法要有适应算法本身的参数。（调参真真真的好累！！）</p>
<p><strong>下面是迭代10000次的结果</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The best route is [42.  8. 27. 10. 48. 43. 33. 31. 25. 44. 30. 37. 36.  7. 26.  4. 40. 14.</span><br><span class="line"> 23. 19. 21. 45. 12.  5.  9. 13. 32. 39. 22. 41. 34. 47. 16.  1. 49. 38.</span><br><span class="line"> 35. 28. 15. 24. 11.  3. 18.  2. 50.  0. 20. 46.  6. 29. 17.]</span><br><span class="line">The route distance is 4065.84765625</span><br></pre></td></tr></table></figure>

<p><strong>路线动态更新视频</strong></p>
<iframe src="//player.bilibili.com/player.html?aid=242891967&bvid=BV1he411s72C&cid=184206098&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> <script type="text/javascript">  
document.getElementById("spkj").style.height=document.getElementById("spkj").scrollWidth*0.76+"px";</script>

<p><strong>最后的结果</strong></p>
<p><img src="/AngelNI.github.io/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/AngelNI/Figure/img/GA.webp"  alt=""></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Hui Ning</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://angelni.github.io/GA/">https://angelni.github.io/GA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/AngelNI.github.io/tags/GA/">GA</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/24.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/2.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/1.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/AngelNI.github.io/aaa/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/24.webp" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">aaa</div></div></a></div><div class="next-post pull_right"><a href="/AngelNI.github.io/The%20Note%20of%20Learning%20Numpy/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/147.webp" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">The Notebook of Learing Numpy</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> Comment</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: false,
  verify: false,
  appId: 'qPPoge1POJnI2euYtRklvNeY-MdYXbMMI',
  appKey: 'HQ7Jf7U5GYLwyKBwjoLHguWx',
  placeholder: '一起来玩耍鸭！',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'en',
  recordIP: false,
  serverURLs: ''
});</script></div></article></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/AngelNI/CDN@5.0/gallary/162.webp)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Hui Ning</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://angelni.github.io/">blog</a>!</div><div class="icp"><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/imgs/icp.png"/><span>冀ICP备19030318号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="Scroll to comment"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js" ></script><script src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/js/utils.js" ></script><script src="https://cdn.jsdelivr.net/gh/AngelNI/CDN@3.0/js/main.js" ></script><script src="/AngelNI.github.io/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/AngelNI.github.io/js/third-party/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="/AngelNI.github.io/js/third-party/piao.js"></script><script src="/AngelNI.github.io/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/AngelNI.github.io/js/search/local-search.js"></script></body></html>